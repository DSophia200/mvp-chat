# 🤖 Frien-Genie

**Frien-Genie**는 본사의 메뉴얼, 레시피, 정책 등을 바탕으로  
가맹점 점주와 아르바이트 직원들이 자주 묻는 질문에 **실시간으로 답해주는 RAG 기반 AI 챗봇 시스템**입니다.

---

##  📢 프로젝트 소개

### 📌 Frien-Genie가 뭐에요?

Frien-Genie는 **운영 매뉴얼과 레시피**를 기반으로  
가맹점주 및 아르바이트생이 **쉽게 질문하고, 실시간으로 답을 받을 수 있는 AI 챗봇**입니다.

> 💡 ‘Frien’ = 친구 + 프랜차이즈  
> 💡 ‘Genie’ = 똑똑한 조력자  

즉, **프랜차이즈 환경에서 누구나 쉽게 접근할 수 있는 똑똑한 조력자**를 의미합니다.

- **일관된 지식 전달**: 본사 기준의 답변
- **반복 교육 최소화**: 아르바이트생이 자주 바뀌어도 문제 없이 사용 가능
- **운영 효율 향상**: 답변 지연 없이, 누구에게나 똑같은 정보 제공

---

## ❓ 왜 만들었나요?

- 본사의 **눈치 보지 않고 질문** 가능  
- **새로운 아르바이트생도 쉽게 적응** 가능  
- 기존에는 매뉴얼을 찾거나, 사람마다 다른 설명을 들었지만  
  → 이제는 **한 번에 정확한 답변 제공!**

---

## 🎯 어떤 가치를 주나요?

- 📉 **교육 비용 감소**  
- ⚙️ **운영 효율 증가**  
- 🔁 **본사 메뉴얼의 일관된 전달**  
- 📲 **언제 어디서든 실시간 응답**

---

## 🛠️ 기술 스택

> Frien-Genie는 RAG 기반 구조로, 비정형 데이터를 가공해 인덱싱하고,  
> OpenAI 모델을 활용해 자연스러운 대화형 응답을 제공하는 AI 챗봇 시스템입니다.

---

### 📌 주요 기술

| 항목         | 사용 기술 / 도구 |
|--------------|-------------------|
| **언어**     | Python 3.12       |
| **가상환경** | Miniforge3 (conda) |
| **웹 프레임워크** | FastAPI (REST API, SSE 활용) |
| **LLM 모델** | OpenAI GPT-4o (Streaming API) |
| **RAG 구성요소** | OpenSearch (검색 인덱싱, Nori 분석기 설정 포함), 사용자 정의 Prompt |
| **검색 엔진** | AWS OpenSearch (키워드 기반 질의, top-k 검색) |
| **데이터 처리** | PDF, Excel → 텍스트 추출 후 JSON 가공 |
| **보조 기술** | dotenv, boto3 (AWS 인증) |
| **개발 환경** | VSCode, OpenSearch Dashboard, Git, GitHub |

---

### 🔧 시스템 구조 요약

1. **비정형 문서 처리**
   - PDF, Excel 등의 운영 매뉴얼을 수집
   - 텍스트 추출 후, JSON 포맷으로 통일된 형태로 가공

2. **검색 인덱싱**
   - 가공된 JSON 데이터를 OpenSearch에 인덱싱
   - 대시보드를 통해 인덱스 관리 및 모니터링

3. **질의 응답 흐름**
   - 사용자 질문 → 키워드 기반 OpenSearch 검색 (top-k)
   - 검색된 컨텍스트를 기반으로 OpenAI API 호출 (Streaming 방식)
   - 실시간으로 자연어 응답 스트리밍 제공

4. **결과 저장**
   - 사용자 질문 및 응답 내용을 OpenSearch에 저장 (로그 관리용)

---

### ⚙️ 기술적 특징

- `StreamingResponse` + `비동기 함수 방식` 기반으로 실시간 응답 전송
- Few-shot prompt + RAG 방식으로 사용자 맞춤형 응답 생성
- OpenSearch에서 인덱스 필터링 → LLM에 context injection
- JSON 응답 템플릿 정의로 파싱 및 처리 일관성 확보
- FastAPI + CORS 설정으로 웹/앱 연동 확장성 고려

---



---

## 📂 프로젝트 구조

## 🚀 실행 방법

> ⚠️ 현재 AWS, OpenAI, OpenSearch 계정은 보안 및 판매 계약상 접근이 차단된 상태입니다.  
> 따라서 아래 실행 절차는 **개발 당시 기준 실행 방식**이며, 현재는 직접 실행은 불가합니다.

```bash
# 1. 가상환경 생성
python -m venv venv
source venv/bin/activate  # Windows는 venv\Scripts\activate

# 2. 패키지 설치
pip install -r requirements.txt

# 3. 실행 (예시)
python src/main.py

> 본 프로젝트는 원청사에 납품된 서비스 기반으로, 외부 API 및 인프라 접근이 제한되어 있습니다.  
> 이에 따라 코드 실행에는 제한이 있으나, 전체 구조 및 설계는 확인 가능합니다.

## ⚠️ Note
본 프로젝트는 실제 운영 프로젝트를 MVP 단계에서 이관한 것이며,
데이터와 세부 비즈니스 로직은 NDA(비밀유지계약)로 인해 제외되었습니다.

예시) 원청사의 레시피와 메뉴얼이 담긴 PDF, Excel파일 이외에도,

PDF 파일을 OCR로 텍스트 변환하여 JSON형식으로 가공한 코드

Excel 파일을 pandas로 처리하여 JSON 파일로 변환한 코드 및 그 결과 JSON 파일

변환된 JSON 파일을 S3에 업로드하는 코드

Opensearch에 JSON 데이터를 인덱싱하고, 노리(Nori) 필터링을 적용한 검색용 코드

등의 실제 데이터 처리 및 검색 관련 코드를 개발했으나,
대외비 성격의 콘텐츠이므로 레포지토리에는 포함하지 않았습니다.

+

본 프로젝트는 빠른 MVP 요구 과정에서 PM 요구로 모든 기능을 단일 파일(main.py)에 작성하였습니다.
이후 리팩토링 전 단계로, 구조 분리(API, 서비스, 모델) 없이 한 파일로 구성되어 있습니다.(ㅠㅠ)
---

## 📄 추가 문서 

- [📘 아키텍처 상세 문서 및 트러블슈팅 Notion 링크]([https://your-notion-link](https://www.notion.so/Frien-Genie-206577dfa2cb804baa75c82774c74c4b))

> 아키텍처, 트러블 슈팅 등은 위 링크에서 확인 가능합니다.

